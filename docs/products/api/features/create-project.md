# プロジェクトを作成する

認証済みユーザーが新しいプロジェクトを作成するためのユースケースです。

## アクター

- 認証済みユーザー

## 前提条件

- ユーザーがシステムにログインしている
- ユーザーがプロジェクト作成権限を持っている

## 成功シナリオ

1. ユーザーがダッシュボードまたはプロジェクト一覧ページで「新規プロジェクト作成」ボタンをクリックする
2. システムがプロジェクト作成フォームを表示する
3. ユーザーがプロジェクト名を入力する
4. ユーザーが必要に応じて追加情報（説明など）を入力する
5. ユーザーが「作成」ボタンをクリックする
6. システムがプロジェクト情報をバリデーション
   If (バリデーションエラー) Then
     エラーメッセージを表示して処理を中断
   EndIf
7. システムが一意のプロジェクトIDを生成
8. システムがプロジェクトエンティティを作成
9. システムが作成者をオーナー権限でプロジェクトメンバーとして登録
10. システムがプロジェクトのデフォルト設定を作成する
11. システムが作成したプロジェクト情報を保存
12. システムがプロジェクト作成完了の通知を表示する
13. システムがユーザーを新しいプロジェクトのページにリダイレクトする

## 代替シナリオ

### プロジェクト名が無効な場合

6a. システムがプロジェクト名が無効（空、長すぎる、禁止文字を含むなど）であることを検出する
6b. システムがエラーメッセージを表示する
6c. ユーザーが別のプロジェクト名を入力する

### ユーザーがプロジェクト作成上限に達している場合

8a. システムがユーザーがプロジェクト作成上限に達していることを検出する
8b. システムがエラーメッセージを表示する
8c. システムがアップグレードオプションを提案する

## 例外シナリオ

### システムエラーが発生した場合

8a. システムがプロジェクト作成中にエラーが発生する
8b. システムがエラーメッセージを表示する
8c. システムが管理者にエラーを通知する
8d. ユーザーが後で再試行するよう促される

## 入力

- ユーザーID: プロジェクトを作成するユーザーのID
- プロジェクト名: 作成するプロジェクトの表示名
- プロジェクトログイン名（任意）: 指定されない場合はプロジェクトIDを使用

## 出力

- 作成されたプロジェクトエンティティ
- エラー：ユーザーが見つからない場合は NotFound エラー
- エラー：プロジェクト作成に失敗した場合は Internal エラー

## ビジネスルール

- プロジェクト名は1〜128文字の範囲内でなければならない
- プロジェクトIDはUUID形式で自動生成される
- プロジェクトのログイン名は初期値としてプロジェクトIDが使用される
- プロジェクト作成者は自動的にOWNERロールが付与される
- 一般ユーザーは最大10個のプロジェクトを作成できる（プレミアムユーザーは無制限）

## 関連モデル

- [プロジェクト](../entities/project.md)
- [プロジェクトメンバー](../entities/project-member.md)
- [ユーザー](../entities/user.md)